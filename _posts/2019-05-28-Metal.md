## GPU Work Submission
- **Command Queue**
  - It is **a little** like **Device Context** in D3D11.
  - It is thread safe, much fit for multi-threading environment.
  - Command Buffer can encoded by different encoders serially, So a Command Buffer may contain render commands, compute commands, blit commands ? 
- **Command Buffer**
  - It encodes and packs "GPU Commands" explicitly by a "Command Encoder".
  - Each thread can have its own "Command Buffer" and operates on it.
  - It has a **addCompletedHandler** interface to add call back function when command buffer completed execution.
  - Can **Command Buffer** be reused after submitted ? It seems not.
- **Command Encoder**
  - It is used to encode GPU commands into buffer.
  - Render Command Encoder is created from Command Buffer by a Render Pass descriptor.
  - Compute and Blit command Encoder, there is no such constraints, because they are independent of Rendering.
  - Render Command Encoder is 1:1 map to "A Render Pass". 
  - Render Command Encoder can only be created serially except of Parallel Render command Encoder. That is before end encoding one you cannot create a new one.
    - create encoder
    - encoder GPU commands
    - endEncoding
  - Render Command Encoder contains an implicit "ClearColor" command.
- **MTLRenderPassDescriptor**
  - It is used to create "Render Command Encoder" from commandBuffer by renderCommandEncoderWithDescriptor
  - It is a description of output of a Render Pass. There is **NO** counterpart in D3D11.
  - What role does it play in rendering process ?
    - It contains color attachment array, depth attachment and stencil attachment. 
    - Sample position operations of Multi-Sample technique. It gives a way to do custom MSAA. Does D3D provide API to do these things ? 
    - Layered Rendering, Tile Shading 
    - Visibility Result buffer. How this buffer is written and queried ?
## Render Pipeline State (PSO) in Metal
- **MTLRenderPipelineDescriptor** is used to create MTLRenderPipelineState object from device
  - calling *newRenderPipelineStateWithDescriptor* to create **MTLRenderPipelineState** .
  - Vertex function, Fragment function. How about tessellation and geometry stage ?
      - D3D11 compiles source code into byte code, then generates shader objects from byte code.
      - D3D11 binds different Shader objects to  different stages at run time.
  - Vertex layout description
  - Rasterizer sample count For MSAA
  - color attachment description array, depth format, stencil format. 
    - D3D11 use Resource View: RTV, DSV, SRV / CBV / UAV.
  - Tessellation related settings.
  - MTLPipelineBufferDescriptorArray, what is this ?

- **MTLDepthStencilDescriptor && MTLDepthStencilState** 
  - create **MTLDepthStencilState** object from device by newDepthStencilStateWithDescriptor
    - depthWriteEnabled
    - depthCompareFunction
  -  Why not include MTLDepthStencilState in MTLRenderPipelineState ? 

## Present Rendering Result
- How to present rendering results in Metal ?
